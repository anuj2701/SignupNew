<html >
  <head>
    <title>Admin Dashboard</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="dashboard.component.scss" />
  </head>
  <body>

    <div class="grid-container">
      <header class="header">
        <div class="menu-icon">
          <span class="material-icons-outlined">menu</span>
        </div>
      <span (click)="ToggleSidebar()" class="material-icons-outlined" > reorder </span>

        <div class="header-right">
          Welcome {{fullname}}!

          <div class="avatar-dropdown">
            <div class="avatar">
              <span
                class="material-icons-outlined"
                style="color: rgba(199, 218, 231, 1)"
              >
                account_circle
              </span>
            </div>
            <ul class="dropdown">
              <li>
                <span class="material-icons-outlined"
                  ><span class="material-symbols-outlined">
                    manage_accounts
                  </span></span
                ><a  href="javascript:void(0)" (click)="openEditUserDialog(userID)">Edit Profile</a>
              </li>

              <li>
                <span class="material-icons-outlined">logout</span
                ><a href="javascript:void(0)" (click)="logout()">Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </header>

      <div id="sidebar">
        <div class="sidebar-title">
          <div class="sidebar-brand">
            <svg
              width="105"
              height="30"
              viewBox="0 0 105 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.6958 11.0989V11.7482L14.2438 16.6261V15.9749L5.6958 11.0989Z"
                fill="#B4DFD8"
              />
              <path
                d="M14.2437 15.9749V16.6261L22.788 11.7482V11.0989L14.2437 15.9749Z"
                fill="#2C9899"
              />
              <path
                d="M5.6958 11.0988L14.2438 15.9749L22.7881 11.0988L14.2438 6.22095L5.6958 11.0988Z"
                fill="#133F53"
              />
              <path
                d="M5.6958 9.14746V9.79858L14.2438 14.6746V14.0253L5.6958 9.14746Z"
                fill="#B5E1E7"
              />
              <path
                d="M14.2437 14.0253V14.6746L22.788 9.79858V9.14746L14.2437 14.0253Z"
                fill="#2D8599"
              />
              <path
                d="M5.6958 9.14742L14.2438 14.0253L22.7844 9.14742L14.2438 4.26953L5.6958 9.14742Z"
                fill="#113253"
              />
              <path
                d="M5.6958 7.19604V7.84716L14.2438 12.725V12.0739L5.6958 7.19604Z"
                fill="#B1E1EF"
              />
              <path
                d="M14.2437 12.0739V12.725L22.788 7.84716V7.19604L14.2437 12.0739Z"
                fill="#2F7499"
              />
              <path
                d="M5.6958 7.19588L14.2438 12.0738L22.7881 7.19588L14.2438 2.31982L5.6958 7.19588Z"
                fill="#1B2A55"
              />
              <path
                d="M5.6958 5.24609V5.89538L14.2438 10.7733V10.1221L5.6958 5.24609Z"
                fill="#ABD7F3"
              />
              <path
                d="M14.2437 10.1221V10.7733L22.788 5.89538V5.24609L14.2437 10.1221Z"
                fill="#2E5299"
              />
              <path
                d="M5.6958 5.24605L14.2438 10.1221L22.7881 5.24605L14.2438 0.368164L5.6958 5.24605Z"
                fill="#1E1A50"
              />
              <path
                d="M23.354 12.0736L22.7843 11.748L14.2437 16.6259L14.8134 16.9515L23.354 12.0736Z"
                fill="#FFD38B"
              />
              <path
                d="M14.8097 16.9515L14.2437 16.626V26.3799L14.8097 26.7055V16.9515Z"
                fill="#CDC42C"
              />
              <path
                d="M23.3541 12.0737L14.8098 16.9516V26.7056L23.3541 21.8277V12.0737Z"
                fill="#BE822B"
              />
              <path
                d="M25.0614 13.0486L24.4935 12.7249L15.9492 17.6009L16.519 17.9265L25.0614 13.0486Z"
                fill="#FCBF8A"
              />
              <path
                d="M16.519 17.9264L15.9492 17.6008V27.3566L16.519 27.6803V17.9264Z"
                fill="#CDA12C"
              />
              <path
                d="M25.0615 13.0483L16.519 17.9262V27.6802L25.0615 22.8041V13.0483Z"
                fill="#BE6628"
              />
              <path
                d="M26.7709 14.025L26.2012 13.6995L17.6587 18.5773L18.2266 18.9011L26.7709 14.025Z"
                fill="#F9AB8B"
              />
              <path
                d="M18.2266 18.9014L17.6587 18.5776V28.3316L18.2266 28.6571V18.9014Z"
                fill="#CD8029"
              />
              <path
                d="M26.7706 14.0251L18.2263 18.9012V28.657L26.7706 23.7791V14.0251Z"
                fill="#BF4A27"
              />
              <path
                d="M28.4874 15.0001L27.9176 14.6746L19.3733 19.5524L19.943 19.878L28.4874 15.0001Z"
                fill="#F6988B"
              />
              <path
                d="M19.9357 19.878L19.366 19.5525V29.3064L19.9357 29.632V19.878Z"
                fill="#CC5E27"
              />
              <path
                d="M28.4874 15L19.9431 19.8779V29.6318L28.4874 24.7539V15Z"
                fill="#BE2F26"
              />
              <path
                d="M5.12598 12.0736L5.69572 11.748L14.2437 16.6259L13.6703 16.9515L5.12598 12.0736Z"
                fill="#61B045"
              />
              <path
                d="M13.6704 16.9515L14.2439 16.626V26.3799L13.6704 26.7055V16.9515Z"
                fill="#E5ECA5"
              />
              <path
                d="M5.12598 12.0737L13.6703 16.9516V26.7056L5.12598 21.8277V12.0737Z"
                fill="#206332"
              />
              <path
                d="M3.41846 13.0486L3.98635 12.7249L12.5307 17.6009L11.9609 17.9265L3.41846 13.0486Z"
                fill="#4AB048"
              />
              <path
                d="M11.9612 17.9264L12.5309 17.6008V27.3566L11.9612 27.6803V17.9264Z"
                fill="#D9E7A3"
              />
              <path
                d="M3.41846 13.0483L11.9609 17.9262V27.6802L3.41846 22.8041V13.0483Z"
                fill="#196332"
              />
              <path
                d="M1.70923 14.025L2.27897 13.6995L10.8214 18.5773L10.2536 18.9011L1.70923 14.025Z"
                fill="#34B04A"
              />
              <path
                d="M10.2537 18.9014L10.8216 18.5776V28.3316L10.2537 28.6571V18.9014Z"
                fill="#CDE2A1"
              />
              <path
                d="M1.70923 14.0251L10.2536 18.9012V28.657L1.70923 23.7791V14.0251Z"
                fill="#146332"
              />
              <path
                d="M0 15.0001L0.569745 14.6746L9.11407 19.5524L8.54432 19.878L0 15.0001Z"
                fill="#1DB04B"
              />
              <path
                d="M8.54443 19.878L9.11418 19.5525V29.3064L8.54443 29.632V19.878Z"
                fill="#C2DE9E"
              />
              <path
                d="M0 15L8.54432 19.8779V29.6318L0 24.7539V15Z"
                fill="#0C6333"
              />
              <path
                d="M33.1602 22.3323V7.66577H38.8946V9.12895H35.232V14.0215H38.0714V15.47H35.2283V22.3323H33.1602Z"
                fill="#FAFAFA"
              />
              <path
                d="M41.6748 22.4771C41.318 22.5002 40.9663 22.3832 40.6962 22.1515C40.4623 21.9293 40.2947 21.6477 40.2116 21.3376C40.1209 21.013 40.0749 20.6777 40.0747 20.3408V11.8672H42.0337V19.7556C42.0192 20.0569 42.0755 20.3574 42.1983 20.6335C42.3093 20.8456 42.535 20.9517 42.8772 20.9517C43.1177 20.9476 43.3534 20.8848 43.5635 20.7688C43.8071 20.6373 44.037 20.4823 44.2498 20.3061V11.8672H46.2087V22.3326H44.2572V21.3011C43.9126 21.6301 43.5235 21.9102 43.101 22.1332C42.6624 22.3645 42.1719 22.4827 41.6748 22.4771Z"
                fill="#FAFAFA"
              />
              <path
                d="M50.6668 22.477C49.8035 22.477 49.1074 22.2087 48.5783 21.6722C48.0348 21.0893 47.7171 20.3353 47.6812 19.5433L49.3108 19.055C49.4095 19.7183 49.5748 20.2164 49.8066 20.5492C49.9196 20.7124 50.0734 20.8439 50.2529 20.931C50.4325 21.0182 50.6317 21.058 50.8314 21.0467C50.9796 21.0571 51.1283 21.0359 51.2675 20.9844C51.4066 20.933 51.533 20.8526 51.6379 20.7486C51.8297 20.524 51.9277 20.2355 51.9117 19.942C51.9166 19.6581 51.8472 19.3777 51.7101 19.1281C51.5398 18.8429 51.3178 18.5912 51.0552 18.3855L49.2424 16.8455C48.8843 16.5418 48.5727 16.1881 48.3175 15.7957C48.0502 15.3403 47.9218 14.8182 47.9475 14.2923C47.9296 13.8037 48.0446 13.3192 48.2805 12.8895C48.5036 12.5126 48.8353 12.2101 49.2331 12.0207C49.6826 11.813 50.1745 11.7109 50.6705 11.7226C51.5127 11.7226 52.1565 11.9908 52.6017 12.5273C53.0541 13.0818 53.3199 13.7622 53.362 14.4734L52.043 14.9635C52.0034 14.6399 51.9303 14.3212 51.8248 14.0125C51.7471 13.7718 51.6097 13.5543 51.4252 13.3796C51.2365 13.2223 50.9947 13.1413 50.7482 13.1528C50.6057 13.1468 50.4636 13.172 50.3321 13.2267C50.2007 13.2814 50.0831 13.3643 49.9879 13.4693C49.8003 13.6753 49.6985 13.9438 49.703 14.221C49.7042 14.4054 49.7451 14.5875 49.8232 14.755C49.9205 14.9545 50.0607 15.1305 50.2339 15.2708L52.1022 16.9736C52.3609 17.2038 52.6026 17.4519 52.8255 17.7161C53.0556 17.9919 53.2427 18.3001 53.3805 18.6306C53.5339 19.0038 53.6088 19.4039 53.6006 19.8067C53.6181 20.326 53.49 20.8399 53.2306 21.2918C52.9897 21.6871 52.6321 21.9999 52.2058 22.188C51.7199 22.3929 51.1949 22.4915 50.6668 22.477Z"
                fill="#FAFAFA"
              />
              <path
                d="M55.1897 10.3087V8.28223H57.1487V10.3087H55.1897ZM55.1897 22.3324V11.867H57.1487V22.3324H55.1897Z"
                fill="#FAFAFA"
              />
              <path
                d="M62.167 22.4771C61.3864 22.4771 60.7698 22.3204 60.3172 22.007C59.8552 21.6778 59.5169 21.2062 59.3553 20.6664C59.1545 20.0033 59.0591 19.3135 59.0722 18.6216V15.5781C59.0593 14.8874 59.1548 14.1988 59.3553 13.537C59.5169 12.9971 59.8552 12.5256 60.3172 12.1964C60.7685 11.883 61.3851 11.7263 62.167 11.7263C62.9489 11.7263 63.5611 11.8818 64.0039 12.1927C64.4634 12.5247 64.7995 12.9972 64.9602 13.537C65.1611 14.2 65.2566 14.8898 65.2433 15.5818V18.6216C65.2568 19.3148 65.1614 20.0058 64.9602 20.67C64.7998 21.208 64.4651 21.679 64.0076 22.0107C63.5624 22.3228 62.9489 22.4783 62.167 22.4771ZM62.167 21.0468C62.5444 21.0468 62.8101 20.9383 62.9643 20.7212C63.1299 20.4632 63.2242 20.1669 63.238 19.8616C63.2676 19.4958 63.2843 19.13 63.2843 18.7478V15.4702C63.2843 15.0715 63.2676 14.6984 63.238 14.3472C63.2225 14.0423 63.1282 13.7464 62.9643 13.4876C62.8101 13.2645 62.5444 13.1529 62.167 13.1529C61.7896 13.1529 61.5208 13.2645 61.3605 13.4876C61.191 13.7444 61.0933 14.041 61.0775 14.3472C61.046 14.6984 61.0312 15.0788 61.0312 15.4702V18.7478C61.0312 19.1343 61.0466 19.5056 61.0775 19.8616C61.0915 20.1682 61.1893 20.4653 61.3605 20.7212C61.5196 20.9395 61.7884 21.048 62.167 21.0468Z"
                fill="#FAFAFA"
              />
              <path
                d="M67.0376 22.3325V11.8671H68.9984V12.8987C69.3517 12.5757 69.7452 12.2985 70.1693 12.0738C70.6044 11.8395 71.0927 11.7187 71.5882 11.7226C71.7649 11.7106 71.9423 11.7331 72.1102 11.789C72.2782 11.8449 72.4333 11.933 72.5667 12.0482C72.7965 12.2725 72.9613 12.5535 73.044 12.8621C73.1346 13.1868 73.1807 13.522 73.1809 13.8589V22.3325H71.2182V14.4204C71.2344 14.1219 71.1779 13.824 71.0536 13.5516C70.9444 13.3449 70.7187 13.2425 70.3765 13.2425C70.136 13.2464 69.9002 13.3092 69.6902 13.4254C69.4433 13.5601 69.2115 13.7201 68.9984 13.9028V22.3399L67.0376 22.3325Z"
                fill="#FAFAFA"
              />
              <path
                d="M78.7397 22.4988C77.9899 22.5248 77.2487 22.3341 76.6068 21.9501C76.035 21.5859 75.5845 21.0629 75.312 20.4467C75.0037 19.7424 74.83 18.9877 74.7996 18.2208L76.6309 17.7307C76.6653 18.2384 76.7483 18.7418 76.8788 19.2341C76.9848 19.6759 77.2017 20.0841 77.5096 20.4211C77.6695 20.5791 77.8615 20.7019 78.0729 20.7814C78.2842 20.8608 78.5102 20.8951 78.736 20.882C79.2743 20.882 79.6794 20.7338 79.955 20.4375C80.2306 20.1413 80.3657 19.7169 80.3657 19.1573C80.3932 18.5906 80.2342 18.0303 79.9125 17.5606C79.5694 17.1167 79.1827 16.7074 78.7582 16.3388L76.2683 14.166C75.8124 13.786 75.444 13.3139 75.188 12.7814C74.9386 12.1945 74.82 11.5613 74.8403 10.925C74.8403 9.85203 75.1516 9.01923 75.7744 8.42664C76.3972 7.83405 77.2456 7.53837 78.3198 7.53959C78.8444 7.53019 79.367 7.60683 79.8662 7.76638C80.2886 7.90465 80.6699 8.14403 80.9761 8.46322C81.293 8.80626 81.536 9.20951 81.6901 9.6484C81.8813 10.1894 82.0013 10.7525 82.0472 11.3237L80.2898 11.7938C80.2581 11.3448 80.1844 10.8997 80.0697 10.4641C79.9783 10.0892 79.7776 9.74895 79.4926 9.48562C79.1599 9.22085 78.7384 9.09019 78.3124 9.11983C77.8734 9.09368 77.4418 9.2403 77.1118 9.52769C76.8251 9.79838 76.6808 10.2008 76.6808 10.7312C76.6683 11.1097 76.747 11.4859 76.9102 11.8285C77.1012 12.1656 77.3518 12.466 77.6501 12.7156L80.1696 14.8903C80.746 15.3922 81.2446 15.9751 81.6495 16.6205C82.0896 17.3358 82.3124 18.1611 82.2913 18.9981C82.3087 19.6522 82.1504 20.299 81.8326 20.8728C81.5409 21.3854 81.1053 21.8034 80.5784 22.0763C80.0101 22.365 79.3785 22.5101 78.7397 22.4988Z"
                fill="#FAFAFA"
              />
              <path
                d="M86.5607 22.4769C86.0977 22.4981 85.6379 22.3917 85.2325 22.1696C84.8958 21.9686 84.6357 21.6632 84.4926 21.3009C84.3309 20.8788 84.253 20.4298 84.2632 19.9785V13.1528H83.1533V11.8725H84.2632V8.80713H86.2222V11.867H87.9259V13.1473H86.2222V19.8468C86.2222 20.2565 86.2906 20.5492 86.4238 20.7248C86.557 20.9003 86.8141 20.9863 87.1933 20.9863C87.292 20.9863 87.4048 20.9808 87.5318 20.9698L87.9018 20.9333V22.3635C87.6576 22.4001 87.432 22.4275 87.2248 22.444C87.0176 22.4605 86.803 22.4769 86.5607 22.4769Z"
                fill="#FAFAFA"
              />
              <path
                d="M91.2851 22.4771C90.8893 22.4839 90.5025 22.3597 90.1863 22.1241C89.865 21.8837 89.6073 21.5699 89.4353 21.2096C89.2531 20.847 89.1588 20.4475 89.1597 20.0427C89.1424 19.4763 89.2556 18.9134 89.4908 18.3966C89.7038 17.9571 90.0135 17.5703 90.3972 17.2645C90.8071 16.9437 91.2557 16.6746 91.7328 16.4634C92.2396 16.2354 92.7742 16.0122 93.3366 15.794V15.0532C93.3413 14.7019 93.3165 14.3507 93.2626 14.0034C93.2353 13.768 93.1292 13.5485 92.9611 13.3797C92.7664 13.2271 92.5207 13.1527 92.2729 13.1712C92.0422 13.1608 91.8142 13.225 91.6236 13.3541C91.4526 13.4845 91.3276 13.665 91.2666 13.8699C91.188 14.1252 91.1505 14.3913 91.1556 14.6582V15.1831L89.2152 15.1099C89.2386 13.9504 89.5074 13.0968 90.0217 12.5494C90.5359 12.0019 91.3295 11.7275 92.4024 11.7263C93.4506 11.7263 94.1949 12.0098 94.6352 12.5768C95.0754 13.1438 95.2955 13.9644 95.2955 15.0386V19.8195C95.2955 20.1451 95.3048 20.4597 95.3233 20.7615C95.3418 21.0633 95.3658 21.3431 95.3954 21.6028C95.425 21.8625 95.4546 22.1076 95.4787 22.3344H93.6843C93.6474 22.1515 93.6011 21.8973 93.5456 21.6028C93.4901 21.3083 93.4513 21.0395 93.4272 20.7981C93.2907 21.2321 93.0487 21.6265 92.7224 21.9467C92.5333 22.1289 92.3077 22.2702 92.0603 22.3615C91.8128 22.4528 91.5488 22.4922 91.2851 22.4771ZM92.0547 20.8109C92.2519 20.8123 92.4451 20.7556 92.6096 20.6481C92.7759 20.5443 92.9292 20.4215 93.0665 20.2823C93.1713 20.1818 93.2638 20.0694 93.3421 19.9476V16.9737C93.0351 17.1419 92.7483 17.312 92.4801 17.4803C92.2289 17.6362 91.9929 17.815 91.7753 18.0143C91.5787 18.1944 91.4175 18.409 91.2999 18.6472C91.1752 18.9334 91.1162 19.2434 91.1271 19.5549C91.1379 19.8664 91.2185 20.1716 91.3628 20.4487C91.4354 20.5642 91.5377 20.6586 91.6592 20.7222C91.7808 20.7859 91.9172 20.8164 92.0547 20.8109Z"
                fill="#FAFAFA"
              />
              <path
                d="M97.2178 22.3159V7.64746H99.1786V16.3936L102.035 11.8669H104.086L101.594 15.9583L104.012 22.3323H102.053L100.076 16.9734L99.1786 18.3122V22.3159H97.2178Z"
                fill="#FAFAFA"
              />
            </svg>
          </div>
        </div>

        <ul class="sidebar-list">
          <li class="sidebar-list-item">
            <a href="/dashboard">
              <span class="material-icons-outlined"> manage_accounts </span>
              Manage User
            </a>
          </li>
        </ul>
      </div>




      <main class="main-container">
        <!-- <div class="search-container">

            <input type="text" [(ngModel)]="Searchtext" placeholder="Search.."  name="search"/>

        </div> -->
        <mat-form-field class="searchbox" >
          <mat-label>Search..</mat-label>
          <input matInput placeholder="Search..." (keyup)="Filterchange($event)">
        </mat-form-field>


        <div class="main-title">
          <p class="font-weight-bold">Manage User</p>
          <ng-container *ngIf="role === 'Admin'" ><button (click)="openDialog()" class="adduser-button">
            + Add new User
          </button></ng-container>

        </div>
        <mat-slide-toggle class="active-toggle"  (change)="applyFilterChanged($event)">Show Active</mat-slide-toggle>
        <table mat-table [dataSource]="dataSource|filter:Searchtext" class="mat-elevation-z8">
          <ng-container matColumnDef="Firstname">
            <th mat-header-cell *matHeaderCellDef> Firstname </th>
            <td mat-cell *matCellDef="let element"> {{element.firstname}} </td>
          </ng-container>

          <ng-container matColumnDef="Lastname">
            <th mat-header-cell *matHeaderCellDef> Lastname </th>
            <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container  matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> email </th>
            <td mat-cell *matCellDef="let element"> {{element.email}} </td>
          </ng-container>
            <ng-container  matColumnDef="roles">
              <th mat-header-cell *matHeaderCellDef> Role </th>
              <td mat-cell *matCellDef="let element"> {{element.role}} </td>
            </ng-container>

            <ng-container  matColumnDef="actions" >
              <th mat-header-cell *matHeaderCellDef> actions </th>
              <td mat-cell *matCellDef="let user" > <a
                href="javascript:void(0)"
                (click)="openEditDialog(user.id,user.firstname,user.lastName,user.email,user.password,user.companyName)"
                style="color: rgba(12, 12, 32, 1)"
                class="material-icons-outlined"
                >edit</a>
                <a
                href="/dashboard"
                (click)="deleteUser(user.id)"
                class="material-icons-outlined"
                style="color: red"
                >delete</a
              ></td>
            </ng-container>
            <ng-container  matColumnDef="isActivated">
              <th mat-header-cell *matHeaderCellDef> isActivated </th>
              <td mat-cell *matCellDef="let element">{{ element.isActive ? 'Activated' : 'Deactivated' }} <a  (click)="confirmToggle(element,element.id)" mat-stroked-button color="accent">Activate</a> </td>
            </ng-container>



          <ng-container matColumnDef="IsActive">
            <th mat-header-cell *matHeaderCellDef> IsActive </th>
            <td mat-cell *matCellDef="let element"> <mat-slide-toggle (change)="toggleChanged($event,element.id)" checked="{{element.isActive}}">Active</mat-slide-toggle> </td>
          </ng-container>



          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator
          [length]="100"
          [pageSize]="5"
          [pageSizeOptions]="[5, 10, 15, 20]"
          aria-label="Select page"
        >
        </mat-paginator>
      </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.35.3/apexcharts.min.js"></script>
    <script src="js/scripts.js"></script>

  </body>
</html>
